(function(t){function e(e){for(var o,s,a=e[0],u=e[1],c=e[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-django-stagram/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container mt-3"},[n("Header"),n("InputBar"),n("List")],1)])},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h2",[t._v("Todo List")]),n("span",[t._v(t._s(t.listSize)+"개의 할 일이 있습니다.")])])},a=[],u={computed:{listSize:function(){return this.$store.state.list.length}}},c=u,l=n("2877"),d=Object(l["a"])(c,s,a,!1,null,"1d27a3f6",null),f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group mb-3 mt-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",id:"todoInput",placeholder:"할 일을 입력하세요"},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem(e)},input:function(e){e.target.composing||(t.value=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addItem}},[t._v("제출")])])])},m=[],y={data:function(){return{value:""}},methods:{addItem:function(){if(this.value){var t={body:this.value};this.$store.dispatch("asyncPushList",t),this.value=""}}}},v=y,h=Object(l["a"])(v,p,m,!1,null,"196e3e93",null),b=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("ul",{staticClass:"list-group"},t._l(t.list,(function(e,o){return n("li",{key:o,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[n("input",{ref:"item",refInFor:!0,staticClass:"item no-outline",attrs:{type:"text",readonly:""},domProps:{value:e.body},on:{dblclick:function(n){return t.modifyItem(e,o)},keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.modifyItem(e,o)}}}),n("div",{},[t._m(0,!0),n("div",{staticClass:"dropdown-menu"},[n("button",{ref:"modifyBtn",refInFor:!0,staticClass:"dropdown-item",on:{click:function(n){return t.modifyItem(e,o)}}},[t._v("수정")]),n("button",{staticClass:"dropdown-item",on:{click:function(n){return t.removeItem(e.id)}}},[t._v("삭제")])])])])})),0)])},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-link dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n          더보기\n          "),n("span",{staticClass:"caret"})])}],x={data:function(){return{itemValue:""}},computed:{list:function(){return this.$store.state.list}},methods:{removeItem:function(t){this.$store.dispatch("asyncPopList",t)},modifyItem:function(t,e){var n={body:t.body};this.$store.dispatch("asyncPutList",{myItem:t,obj:n,index:e,item:this.$refs["item"][e],modifyBtn:this.$refs["modifyBtn"][e]})}}},I=x,w=Object(l["a"])(I,g,_,!1,null,"1209c55e",null),k=w.exports,L={name:"app",components:{Header:f,InputBar:b,List:k},created:function(){this.$store.dispatch("asyncSetList")}},j=L,O=(n("034f"),Object(l["a"])(j,i,r,!1,null,null,null)),C=O.exports,P=n("2f62"),$=n("bc3a"),S=n.n($);o["a"].use(P["a"]);var B="http://127.0.0.1:8000/api/",E=new P["a"].Store({state:{list:[],modifyItem:"",preItem:null,nowItem:null},getters:{getList:function(t){return t.list}},actions:{asyncSetList:function(t){var e=t.commit;S.a.get(B+"todos/").then((function(t){console.log("axios_get:",t),e("setList",t.data)})).catch((function(t){console.log(t)}))},asyncPushList:function(t,e){var n=t.dispatch;S.a.post(B+"todos/",e).then((function(t){console.log(t),n("asyncSetList")})).catch((function(t){return console.log(t)}))},asyncPopList:function(t,e){var n=t.dispatch;S.a.delete("".concat(B,"todos/").concat(e,"/")).then((function(t){console.log(t),n("asyncSetList")})).catch((function(t){return console.log(t)}))},asyncPutList:function(t,e){var n=t.state,o=t.dispatch;n.preItem===e.index?(e.obj.body=e.item.value,e.item.setAttribute("readonly","readonly"),e.modifyBtn.innerText="수정",e.item.classList.add("no-outline"),n.preItem=null):(e.item.removeAttribute("readonly"),e.item.classList.remove("no-outline"),e.item.focus(),e.modifyBtn.innerText="완료",n.preItem=e.index,n.nowItem=e.index),console.log("payload:",e),S.a.put("".concat(B,"todos/").concat(e.myItem.id,"/"),e.obj).then((function(t){console.log("axios_put:",t),o("asyncSetList")})).catch((function(t){return console.log(t)}))}},mutations:{setList:function(t,e){t.list=e}}});o["a"].config.productionTip=!1,new o["a"]({store:E,render:function(t){return t(C)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.d350c9bf.js.map